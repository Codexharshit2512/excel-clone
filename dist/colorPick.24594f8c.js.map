{"version":3,"sources":["Flat-HTML5-Palette-Color-Picker-For-jQuery-colorPick-js/src/colorPick.js"],"names":["$","fn","colorPick","config","each","element","options","extend","defaults","str","color","initialColor","toUpperCase","dataInitialColor","data","appendToStorage","uniquePalette","palette","map","x","i","el","inArray","push","hasClass","pickrclass","init","css","prototype","self","proxy","onColorSelected","click","event","target","currentTarget","offset","preventDefault","show","pageX","left","pageY","top","val","attr","hide","keyup","hash","indexOf","test","removeClass","addClass","blur","document","on","contains","allowRecent","storedColors","JSON","parse","localStorage","getItem","unshift","slice","recentMax","setItem","stringify","remove","prepend","paletteLabel","jQuery","index","item","append","allowCustomColor","fadeIn","fadeOut"],"mappings":"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","file":"colorPick.24594f8c.js","sourceRoot":"..","sourcesContent":["/*!\n*\n* ColorPick jQuery plugin\n* https://github.com/philzet/ColorPick.js\n*\n* Copyright (c) 2017-2019 Phil Zet (a.k.a. Phil Zakharchenko)\n* Licensed under the MIT License\n*\n*/\n(function( $ ) {\n\n    $.fn.colorPick = function(config) {\n\n        return this.each(function() {\n            new $.colorPick(this, config || {});\n        });\n\n    };\n\n    $.colorPick = function (element, options) {\n        options = options || {};\n        this.options = $.extend({}, $.fn.colorPick.defaults, options);\n        if(options.str) {\n            this.options.str = $.extend({}, $.fn.colorPick.defaults.str, options.str);\n        }\n        $.fn.colorPick.defaults = this.options;\n        this.color   = this.options.initialColor.toUpperCase();\n        this.element = $(element);\n\n        var dataInitialColor = this.element.data('initialcolor');\n        if (dataInitialColor) {\n            this.color = dataInitialColor;\n            this.appendToStorage(this.color);\n        }\n\n        var uniquePalette = [];\n        $.each($.fn.colorPick.defaults.palette.map(function(x){ return x.toUpperCase() }), function(i, el){\n            if($.inArray(el, uniquePalette) === -1) uniquePalette.push(el);\n        });\n\n        this.palette = uniquePalette;\n\n        return this.element.hasClass(this.options.pickrclass) ? this : this.init();\n    };\n\n    $.fn.colorPick.defaults = {\n        'initialColor': '#3498db',\n        'paletteLabel': 'Default palette:',\n        'allowRecent': true,\n        'recentMax': 5,\n        'allowCustomColor': false,\n        'palette': [\"#1abc9c\", \"#16a085\", \"#2ecc71\", \"#27ae60\", \"#3498db\", \"#2980b9\", \"#9b59b6\", \"#8e44ad\", \"#34495e\", \"#2c3e50\", \"#f1c40f\", \"#f39c12\", \"#e67e22\", \"#d35400\", \"#e74c3c\", \"#c0392b\", \"#ecf0f1\", \"#bdc3c7\", \"#95a5a6\", \"#7f8c8d\"],\n        'onColorSelected': function() {\n            this.element.css({'backgroundColor': this.color, 'color': this.color});\n        }\n    };\n\n    $.colorPick.prototype = {\n\n        init : function(){\n\n            var self = this;\n            var o = this.options;\n\n            $.proxy($.fn.colorPick.defaults.onColorSelected, this)();\n\n            this.element.click(function(event) {\n                if (event.target != event.currentTarget){\n\t\t\t        return;\n\t\t\t\t}\n\n                var offset = $(self.element).offset();\n\n                event.preventDefault();\n                self.show(self.element, event.pageX - offset.left, event.pageY - offset.top);\n\n                $('.customColorHash').val(self.color);\n\n                $('.colorPickButton').click(function(event) {\n\t\t\t\t\tself.color = $(event.target).attr('hexValue');\n\t\t\t\t\tself.appendToStorage($(event.target).attr('hexValue'));\n\t\t\t\t\tself.hide();\n\t\t\t\t\t$.proxy(self.options.onColorSelected, self)();\n\t\t\t\t\treturn false;\n            \t});\n                $('.customColorHash').click(function(event) {\n                    return false;\n                }).keyup(function (event) {\n                    var hash = $(this).val();\n                    if (hash.indexOf('#') !== 0) {\n                        hash = \"#\"+hash;\n                    }\n                    if (/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hash)) {\n                        self.color = hash;\n                        self.appendToStorage(hash);\n                        $.proxy(self.options.onColorSelected, self)();\n                        $(this).removeClass('error');\n                    } else {\n                        $(this).addClass('error');\n                    }\n                });\n\n                return false;\n            }).blur(function() {\n                self.element.val(self.color);\n                $.proxy(self.options.onColorSelected, self)();\n                self.hide();\n                return false;\n            });\n\n            $(document).on('click', function(event) {\n                if ($.contains(self.element[0], event.target)){\n                    return;\n                }\n                self.hide();\n                return true;\n            });\n\n            return this;\n        },\n\n        appendToStorage: function(color) {\n\t        if ($.fn.colorPick.defaults.allowRecent === true) {\n\t        \tvar storedColors = JSON.parse(localStorage.getItem(\"colorPickRecentItems\"));\n\t\t\t\tif (storedColors == null) {\n\t\t     \t    storedColors = [];\n\t        \t}\n\t\t\t\tif ($.inArray(color, storedColors) == -1) {\n\t\t    \t    storedColors.unshift(color);\n\t\t\t\t\tstoredColors = storedColors.slice(0, $.fn.colorPick.defaults.recentMax)\n\t\t\t\t\tlocalStorage.setItem(\"colorPickRecentItems\", JSON.stringify(storedColors));\n\t        \t}\n\t        }\n        },\n\n        show: function(element, left, top) {\n\n            $(\".colorPickWrapper\").remove();\n\n            $(element).prepend('<div class=\"colorPickWrapper\"><div id=\"colorPick\" style=\"display:none;top:' + top + 'px;left:' + left + 'px\"><span>'+$.fn.colorPick.defaults.paletteLabel+'</span></div></div>');\n\n\t        jQuery.each(this.palette, function (index, item) {\n\t\t\t\t$(\"#colorPick\").append('<div class=\"colorPickButton\" hexValue=\"' + item + '\" style=\"background:' + item + '\"></div>');\n\t\t\t});\n            if ($.fn.colorPick.defaults.allowCustomColor === true) {\n                $(\"#colorPick\").append('<input type=\"text\" style=\"margin-top:5px\" class=\"customColorHash\" />');\n            }\n\t\t\tif ($.fn.colorPick.defaults.allowRecent === true) {\n\t\t\t\t$(\"#colorPick\").append('<span style=\"margin-top:5px\">Recent:</span>');\n\t\t\t\tif (JSON.parse(localStorage.getItem(\"colorPickRecentItems\")) == null || JSON.parse(localStorage.getItem(\"colorPickRecentItems\")) == []) {\n\t\t\t\t\t$(\"#colorPick\").append('<div class=\"colorPickButton colorPickDummy\"></div>');\n\t\t\t\t} else {\n\t\t\t\t\tjQuery.each(JSON.parse(localStorage.getItem(\"colorPickRecentItems\")), function (index, item) {\n\t\t        \t\t$(\"#colorPick\").append('<div class=\"colorPickButton\" hexValue=\"' + item + '\" style=\"background:' + item + '\"></div>');\n                        if (index == $.fn.colorPick.defaults.recentMax-1) {\n                            return false;\n                        }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t        $(\"#colorPick\").fadeIn(200);\n        },\n\n\t    hide: function() {\n\t\t    $( \".colorPickWrapper\" ).fadeOut(200, function() {\n                $(\".colorPickWrapper\").remove();\n\t\t\t    return this;\n\t\t\t});\n        },\n\n    };\n\n}( jQuery ));\n"]}